<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>

</body>
<script>
    //传递的是函数的引用而不是函数的调用
    function each(arr, fn) {
        for (var i = 0; i < arr.length; i++) {
            fn(arr[i]);
        }
    }


    each([1, 2, 3, 4], function(val) {
        console.log(val);
    });





    /* map([1, 2, 3, 4], function(val) {
         return val * 2;
     }); // [2,4,6,8]*/
    function map(arr, fn) {
        for (var i = 0; i < arr.length; i++) {
            arr[i] = fn(arr[i]);
        }
        return arr;
    }
    console.log(map([1, 2, 3, 4], function(val) {
        return val * 2;
    }));



    /*  reject([1, 2, 3, 4], function(val) {
          return val > 2;
      }); // [1,2]

      reject([2, 3, 4, 5], function(val) {
          return val % 2 === 0;
      }); // [3,5]*/
    function reject(arr, fn) {
        var newArr = [];
        var count = 0;
        for (var i = 0; i < arr.length; i++) {
            if (!fn(arr[i])) {
                newArr[count++] = arr[i];
            }
        }
        return newArr;
    }
    console.log(reject([2, 3, 4, 5], function(val) {
        return val % 2 === 0;
    }));
</script>

</html>